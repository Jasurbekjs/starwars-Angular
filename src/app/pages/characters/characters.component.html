<div class="characters">
  <div class="characters__text tui-text_h3">
    <div class="characters__header">
      <div>
        <strong>{{'CHARACTERS.TEXT' | translate}}</strong>
      </div>
      <div>
        <button
            tuiButton
            type="butxton"
            appearance="secondary"
            class="tui-space_right-3 tui-space_bottom-3"
            (click)="router.navigate(['/characters', 0])"
        >
            {{'HOME.ADD' | translate}}
        </button>
      </div>
    </div>
    <tui-scrollbar>
      <div class="tui-row tui-row_adaptive items">
        <div class="tui-col_xs-12 tui-col_md-12 tui-col_lg-12">
          <tui-loader
            class="inline-flex tui-space_right-2"
            [showLoader]="loading"
            [inheritColor]="true"
            [overlay]="true"
          >
          </tui-loader>
          <tui-island *ngFor="let item of items" class="item">
            <h3 class="tui-island__title">{{item.first_name}} {{item.last_name}} {{item.middle_name}} </h3>
            
            <div class="tui-island__paragraph"> 
              {{'CHARACTERS.BIRTHDATE' | translate}}: <strong>{{item.birth_date}}</strong> 
            </div>
            <div class="tui-island__paragraph"> 
              {{'RACES.RACE' | translate}}: <strong>{{getRace(item.race_id).name}}</strong> 
            </div>
            <div class="tui-island__paragraph"> 
              {{'PLANETS.PLANET' | translate}}: <strong>{{getPlanet(item.planet_id).name}}</strong> 
            </div>
            <div class="tui-island__paragraph"> 
              {{'CHARACTERS.GENDER' | translate}}: <strong>{{item.gender}}</strong> 
            </div>
            <div class="tui-island__paragraph"> 
              {{'FILMS.FILM' | translate}}: <strong>{{getFilm(item.films_id).name}}</strong> 
            </div>
            <div class="actions">
              <button class="button button__edit mx-2" (click)="router.navigate(['/characters',item.id])">
                {{'HOME.EDIT' | translate}}
              </button>
              <button class="button button__delete" (click)="deleteDialog(template, item)">
                {{'HOME.DELETE' | translate}}
              </button>
            </div>
          </tui-island>
  
        </div>
      </div>
    </tui-scrollbar>
    <ng-template
        #template
        let-observer
    >
        <p>
            {{'HOME.DELETE' | translate}} {{'CHARACTERS.CHARACTER' | translate}}
            <strong>{{selectedItem?.first_name}}
            {{selectedItem?.last_name}}
            {{selectedItem?.middle_name}}</strong> ?
        </p>
        <button
            tuiButton
            type="button"
            size="m"
            class="tui-space_right-3"
            (click)="observer.complete()"
        >
            {{'HOME.CANCEL' | translate}}
        </button>
        <button
            tuiButton
            type="button"
            size="m"
            (click)="acceptDelete(observer)"
        >
            {{'HOME.DELETE' | translate}}
        </button>
    </ng-template>
  </div>
</div>